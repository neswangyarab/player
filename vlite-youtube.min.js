/**
* @license MIT
* @name vLitejs
* @version 2.0.1
* @author: Yoriiis aka Joris DANIEL <joris.daniel@gmail.com>
* @description: vLite.js is a fast and lightweight Javascript library to customize and skin native HTML5 video and Youtube video in Javascript native with a default skin
* {@link https://vlite.bitbucket.io}
* @copyright 2019 Joris DANIEL <https://vlite.bitbucket.io>
**/

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vLite=t():e.vLite=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/js//",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(i),a={apiLoading:!1,apiReady:!1,apiReadyQueue:[]},u=function(){function e(t){var n=t.selector,l=t.options,i=void 0===l?void 0:l,s=t.callback;r(this,e),this.player=null,"string"==typeof n?this.player=document.querySelector(n):"object"===(void 0===n?"undefined":o(n))&&(this.player=n),null!==this.player&&(this.options=i,this.callback=s,this.initPlayer())}return l(e,[{key:"initPlayer",value:function(){this.player.hasAttribute("data-youtube-id")?a.apiReady?this.instancePlayer=new s.default({selector:this.player,options:this.options,callback:this.callback}):(a.apiLoading||(a.apiLoading=!0,this.loadYoutubeAPI()),a.apiReadyQueue.push({player:this.player,options:this.options,callback:this.callback})):this.instancePlayer=new PlayerHtml5({selector:this.player,options:this.options,callback:this.callback})}},{key:"loadYoutubeAPI",value:function(){var e=this,t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://youtube.com/iframe_api",window.onYouTubeIframeAPIReady=function(){a.apiReady=!0,a.apiReadyQueue.forEach(function(t){e.instancePlayer=new s.default({selector:t.player,options:t.options,callback:t.callback})}),a.apiReadyQueue=[]},document.getElementsByTagName("body")[0].appendChild(t)}},{key:"destroy",value:function(){this.instancePlayer.destroy()}}]),e}();t.default=u,e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var l=Object.getPrototypeOf(t);return null===l?void 0:e(l,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},a=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(e){function t(e){var n=e.selector,l=e.options,i=e.callback;r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{selector:n,options:l,callback:i}));return s.initYoutubePlayer(),s}return l(t,e),i(t,[{key:"initYoutubePlayer",value:function(){var e=this;this.instancePlayer=new YT.Player(this.player.getAttribute("id"),{videoId:this.player.getAttribute("data-youtube-id"),height:"100%",width:"100%",playerVars:{showinfo:0,modestbranding:0,autohide:1,rel:0,fs:this.options.fullscreen?1:0,wmode:"transparent",playsinline:this.options.playsinline?1:0,controls:this.skinDisabled?1:0},events:{onReady:function(t){return e.onPlayerReady(t)},onStateChange:function(t){return e.onPlayerStateChange(t)}}})}},{key:"onPlayerReady",value:function(e){this.player=e.target.getIframe(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"playerIsReady",this).call(this)}},{key:"getInstance",value:function(){return this.instancePlayer}},{key:"onPlayerStateChange",value:function(e){var n=this;switch(e.data){case YT.PlayerState.UNSTARTED:this.options.controls&&this.options.time&&s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDuration",this).call(this);break;case YT.PlayerState.ENDED:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onVideoEnded",this).call(this);break;case YT.PlayerState.PLAYING:this.loading(!1),this.options.controls&&setInterval(function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateCurrentTime",n).call(n)},100),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"afterPlayPause",this).call(this,"play");break;case YT.PlayerState.PAUSED:s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"afterPlayPause",this).call(this,"pause");break;case YT.PlayerState.BUFFERING:this.loading(!0)}}},{key:"setCurrentTime",value:function(e){this.instancePlayer.seekTo(e)}},{key:"getCurrentTime",value:function(){return this.instancePlayer.getCurrentTime()}},{key:"getDuration",value:function(){return this.instancePlayer.getDuration()}},{key:"onProgressChanged",value:function(e){this.setCurrentTime(e.target.value*this.getDuration()/100)}},{key:"methodPlay",value:function(){this.instancePlayer.playVideo()}},{key:"methodPause",value:function(){this.instancePlayer.pauseVideo()}},{key:"methodMute",value:function(){this.instancePlayer.mute()}},{key:"methodUnMute",value:function(){this.instancePlayer.unMute()}},{key:"removeInstance",value:function(){this.instancePlayer.destroy()}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){var n=t.selector,o=t.options,l=t.callback;r(this,e),this.callback=l,this.isFullScreen=!1,this.isPaused=null,this.player=n,this.touchSupport=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),this.skinDisabled=!1;var i={},s={autoplay:!1,controls:!0,playPause:!0,timeline:!0,time:!0,volume:!0,fullscreen:!0,poster:null,bigPlay:!0,autoHide:!1,nativeControlsForTouch:!1,playsinline:!0};i=this.player.hasAttribute("data-options")?JSON.parse(this.player.getAttribute("data-options")):o,this.options=this.constructor.extend(!0,s,i),this.options.nativeControlsForTouch&&(this.skinDisabled=!0,this.player.setAttribute("controls","controls"),this.options.controls=!1),this.options.playsinline&&(this.player.setAttribute("playsinline",!0),this.player.setAttribute("webkit-playsinline",!0)),this.supportFullScreen=this.constructor.checkSupportFullScreen(),this.buildPlayer(),this.bindEvents()}return o(e,[{key:"buildPlayer",value:function(){var e=document.createElement("div");e.setAttribute("class","vl-wrapper-vlite vl-first-start vl-paused vl-loading"),e.setAttribute("tabindex",0),this.player.parentNode.insertBefore(e,this.player),e.appendChild(this.player),this.wrapperPlayer=this.player.parentNode,this.player.classList.add("vl-toggle-play-pause-js"),this.skinDisabled&&this.wrapperPlayer.classList.add("vl-force-controls");var t=null!==this.options.poster?"background-image: url("+this.options.poster+");":"",n=(this.options.nativeControlsForTouch?"":'<div class="vl-overlay-video vl-toggle-play-pause-js">\n                                    '+(this.touchSupport?"":'<div class="vl-overlay-left vl-fast-forward-js" data-direction="left"></div>\n                                        <div class="vl-overlay-right vl-fast-forward-js" data-direction="right"></div>')+"\n                                </div>")+'\n                            <div class="vl-wrapper-loader">\n                                <div class="vl-loader">\n                                    <div class="vl-loader-bounce-1"></div>\n                                    <div class="vl-loader-bounce-2"></div>\n                                    <div class="vl-loader-bounce-3"></div>\n                                </div>\n                            </div>\n                            <div class="vl-poster vl-toggle-play-pause-js vl-active" style="'+t+'"></div>\n                            '+(this.options.bigPlay?'<div class="vl-big-play-button vl-toggle-play-pause-js">\n                                     <span class="vl-player-icon vl-icon-play2"></span>\n                                </div>':"")+"\n                            "+(this.options.controls?'<div class="vl-control-bar">\n                                    '+(this.options.timeline?'<div class="vl-progress-bar">\n                                            <div class="vl-progress-seek"></div>\n                                            <input type="range" class="vl-progress-input" min="0" max="100" step="0.01" value="0" orient="horizontal" />\n                                        </div>':"")+'\n                                    <div class="vl-control-bar-inner">\n                                        '+(this.options.playPause?'<div class="vl-play-pause-button vl-toggle-play-pause-js">\n                                                <span class="vl-player-icon vl-icon-play3"></span>\n                                                <span class="vl-player-icon vl-icon-pause2"></span>\n                                            </div>':"")+"\n                                        "+(this.options.time?'<div class="vl-time">\n                                                <span class="vl-current-time">00:00</span>&nbsp;/&nbsp;<span class="vl-duration"></span>\n                                            </div>':"")+"\n                                        "+(this.options.volume?'<div class="vl-volume">\n                                                <span class="vl-player-icon vl-icon-volume-high"></span>\n                                                <span class="vl-player-icon vl-icon-volume-mute"></span>\n                                            </div>':"")+"\n                                        "+(this.options.fullscreen?'<div class="vl-fullscreen">\n                                                <span class="vl-player-icon vl-icon-fullscreen"></span>\n                                                <span class="vl-player-icon vl-icon-shrink"></span>\n                                            </div>':"")+"\n                                    </div>\n                                </div>":"");e.insertAdjacentHTML("beforeend",n)}},{key:"bindEvents",value:function(){var e=this;this.options.controls&&this.options.timeline&&(this.onChangeProgressBar=function(t){e.onProgressChanged(t)},this.wrapperPlayer.querySelector(".vl-progress-input").addEventListener("change",this.onChangeProgressBar,!1)),this.onClickTogglePlayPause=function(t){t.preventDefault(),e.togglePlayPause()},[].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-toggle-play-pause-js"),function(t){t.addEventListener("click",e.onClickTogglePlayPause,!1)}),this.touchSupport||(this.onDblclickFastForward=function(t){t.preventDefault(),e.fastForward(t)},[].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-fast-forward-js"),function(t){t.addEventListener("dblclick",e.onDblclickFastForward,!1)})),this.options.controls&&this.options.volume&&(this.onCLickToggleVolume=function(t){t.preventDefault(),e.toggleVolume()},this.wrapperPlayer.querySelector(".vl-volume").addEventListener("click",this.onCLickToggleVolume,!1)),this.options.controls&&this.options.fullscreen&&(this.onClickToggleFullscreen=function(t){t.preventDefault(),e.toggleFullscreen()},this.wrapperPlayer.querySelector(".vl-fullscreen").addEventListener("click",this.onClickToggleFullscreen,!1),this.onDblclickVideo=function(t){t.preventDefault(),t.target.classList.contains("vl-fast-forward-js")||e.toggleFullscreen()},this.wrapperPlayer.querySelector(".vl-overlay-video").addEventListener("dblclick",this.onDblclickVideo,!1)),this.options.controls&&(this.onKeyupEvent=function(t){e.onKeyup(t)},this.wrapperPlayer.addEventListener("keyup",this.onKeyupEvent,!1),this.onMousemoveEvent=function(t){e.onMousemove(t)},this.wrapperPlayer.addEventListener("mousemove",this.onMousemoveEvent,!1)),this.onChangeFullScreen=function(t){!document[e.supportFullScreen.isFullScreen]&&e.isFullScreen&&e.exitFullscreen(t.target)},window.addEventListener(this.supportFullScreen.changeEvent,this.onChangeFullScreen,!1)}},{key:"playerIsReady",value:function(){this.loading(!1),"function"==typeof this.callback&&this.callback(this),this.options.autoplay&&this.togglePlayPause()}},{key:"loading",value:function(e){e?this.wrapperPlayer.classList.add("vl-loading"):this.wrapperPlayer.classList.remove("vl-loading")}},{key:"updateDuration",value:function(){this.wrapperPlayer.querySelector(".vl-duration").innerHTML=this.constructor.formatVideoTime(this.getDuration())}},{key:"onVideoEnded",value:function(){this.wrapperPlayer.classList.replace("vl-playing","vl-paused"),this.wrapperPlayer.classList.add("vl-first-start"),this.wrapperPlayer.querySelector(".vl-poster").classList.add("vl-active"),this.options.constrols&&(this.wrapperPlayer.querySelector(".vl-progress-seek").style.width="0%",this.wrapperPlayer.querySelector(".vl-progress-input").setAttribute("value",0),this.wrapperPlayer.querySelector(".vl-current-time").innerHTML="00:00")}},{key:"togglePlayPause",value:function(){this.wrapperPlayer.classList.contains("vl-paused")?this.play():this.pause()}},{key:"fastForward",value:function(e){"left"===e.target.getAttribute("data-direction")?this.seekTo(this.getCurrentTime()-10):this.seekTo(this.getCurrentTime()+10)}},{key:"play",value:function(){this.wrapperPlayer.classList.contains("vl-first-start")&&(this.wrapperPlayer.classList.remove("vl-first-start"),this.wrapperPlayer.querySelector(".vl-poster").classList.remove("vl-active")),this.methodPlay(),this.isPaused=!1,this.afterPlayPause()}},{key:"pause",value:function(){this.methodPause(),this.isPaused=!0,this.afterPlayPause()}},{key:"afterPlayPause",value:function(){var e=this;this.isPaused?this.wrapperPlayer.classList.replace("vl-playing","vl-paused"):this.wrapperPlayer.classList.replace("vl-paused","vl-playing"),this.options.autoHide&&this.options.controls&&(this.isPaused?this.wrapperPlayer.querySelector(".vl-control-bar").classList.remove("hidden"):this.timerAutoHide=setTimeout(function(){e.wrapperPlayer.querySelector(".vl-control-bar").classList.add("hidden")},3e3))}},{key:"toggleVolume",value:function(){this.wrapperPlayer.querySelector(".vl-volume").classList.contains("vl-muted")?this.unMute():this.mute()}},{key:"mute",value:function(){this.methodMute(),this.wrapperPlayer.querySelector(".vl-volume").classList.add("vl-muted")}},{key:"unMute",value:function(){this.methodUnMute(),this.wrapperPlayer.querySelector(".vl-volume").classList.remove("vl-muted")}},{key:"seekTo",value:function(e){this.setCurrentTime(e)}},{key:"toggleFullscreen",value:function(){this.isFullScreen?this.exitFullscreen():this.requestFullscreen()}},{key:"requestFullscreen",value:function(){var e=this.supportFullScreen.requestFn;this.player[e]&&(this.player.parentNode[e](),this.isFullScreen=!0,this.wrapperPlayer.classList.add("vl-fullscreen-display"),this.wrapperPlayer.querySelector(".vl-fullscreen").classList.add("vl-exit"))}},{key:"exitFullscreen",value:function(){var e=this.supportFullScreen.cancelFn;document[e]&&(document[e](),this.wrapperPlayer.classList.remove("vl-fullscreen-display"),this.wrapperPlayer.querySelector(".vl-fullscreen").classList.remove("vl-exit"),this.isFullScreen=!1)}},{key:"onKeyup",value:function(e){32===e.keyCode&&this.togglePlayPause()}},{key:"onMousemove",value:function(e){var t=this;!1===this.isPaused&&this.options.autoHide&&this.options.controls&&(this.wrapperPlayer.querySelector(".vl-control-bar").classList.remove("hidden"),clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout(function(){t.wrapperPlayer.querySelector(".vl-control-bar").classList.add("hidden")},3e3))}},{key:"updateCurrentTime",value:function(){var e=Math.round(this.getCurrentTime()),t=this.getDuration(),n=100*e/t,r=this.wrapperPlayer.querySelector(".vl-current-time");this.wrapperPlayer.querySelector(".vl-progress-seek").style.width=n+"%",null!==r&&(r.innerHTML=this.constructor.formatVideoTime(e))}},{key:"unBindEvents",value:function(){var e=this;[].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-toggle-play-pause-js"),function(t){t.removeEventListener("click",e.onClickTogglePlayPause)}),this.onClickTogglePlayPause=null,this.touchSupport||([].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-fast-forward-js"),function(t){t.removeEventListener("dblclick",e.onDblclickFastForward)}),this.onDblclickFastForward=null),this.options.controls&&this.options.timeline&&(this.wrapperPlayer.querySelector(".vl-progress-input").removeEventListener("change",this.onChangeProgressBar,!1),this.onChangeProgressBar=null),this.options.controls&&this.options.volume&&(this.wrapperPlayer.querySelector(".vl-volume").removeEventListener("click",this.onCLickToggleVolume),this.onCLickToggleVolume=null),this.options.controls&&(this.wrapperPlayer.removeEventListener("keyup",this.onKeyupEvent),this.wrapperPlayer.removeEventListener("mousemove",this.onMousemoveEvent),this.onKeyupEvent=null,this.onMousemoveEvent=null),this.options.controls&&this.options.fullscreen&&(this.wrapperPlayer.querySelector(".vl-fullscreen").removeEventListener("click",this.onClickToggleFullscreen),this.wrapperPlayer.querySelector(".vl-overlay-video").removeEventListener("dblclick",this.onDblclickVideo),this.onClickToggleFullscreen=null,this.onDblclickVideo=null),window.removeEventListener(this.supportFullScreen.changeEvent,this.onChangeFullScreen)}},{key:"destroy",value:function(){this.pause(),this.unBindEvents(),"function"==typeof this.unBindSpecificEvents&&this.unBindSpecificEvents(),"function"==typeof this.removeInstance&&this.removeInstance(),this.wrapperPlayer.remove()}}],[{key:"checkSupportFullScreen",value:function(){var e=["","moz","webkit","ms","o"],t=e.length,n=void 0,r=void 0,o=void 0,l=void 0,i=void 0;if(void 0!==document.cancelFullscreen)r="requestFullscreen",o="exitFullscreen",l="fullscreenchange";else for(;t--;)"moz"===e[t]&&!document.mozFullScreenEnabled||void 0===document[e[t]+"CancelFullScreen"]||(r=e[t]+"RequestFullScreen",o=e[t]+"CancelFullScreen",l=e[t]+"fullscreenchange",i="webkit"===e[t]?e[t]+"IsFullScreen":e[t]+"FullScreen");return n={requestFn:r,cancelFn:o,changeEvent:l,isFullScreen:i},!!r&&n}},{key:"formatVideoTime",value:function(e){var t=1e3*e,n=t/1e3/60<<0,r=t/1e3%60<<0,o="";return o+=n<10?"0":"",o+=n+":",o+=r<10?"0":"",o+=r}},{key:"extend",value:function(){var e=this,t={},n=!1,r=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],r++);for(;r<o;r++){var l=arguments[r];!function(r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n&&"[object Object]"===Object.prototype.toString.call(r[o])?t[o]=e.constructor.extend(!0,t[o],r[o]):t[o]=r[o])}(l)}return t}}]),e}();t.default=l}])});