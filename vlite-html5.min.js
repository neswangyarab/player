/**
* @license MIT
* @name vLitejs
* @version 2.0.1
* @author: Yoriiis aka Joris DANIEL <joris.daniel@gmail.com>
* @description: vLite.js is a fast and lightweight Javascript library to customize and skin native HTML5 video and Youtube video in Javascript native with a default skin
* {@link https://vlite.bitbucket.io}
* @copyright 2019 Joris DANIEL <https://vlite.bitbucket.io>
**/

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vLite=t():e.vLite=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/js//",t(t.s=0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),a={apiLoading:!1,apiReady:!1,apiReadyQueue:[]},u=function(){function e(t){var n=t.selector,o=t.options,l=void 0===o?void 0:o,s=t.callback;i(this,e),this.player=null,"string"==typeof n?this.player=document.querySelector(n):"object"===(void 0===n?"undefined":r(n))&&(this.player=n),null!==this.player&&(this.options=l,this.callback=s,this.initPlayer())}return o(e,[{key:"initPlayer",value:function(){this.player.hasAttribute("data-youtube-id")?a.apiReady?this.instancePlayer=new PlayerYoutube({selector:this.player,options:this.options,callback:this.callback}):(a.apiLoading||(a.apiLoading=!0,this.loadYoutubeAPI()),a.apiReadyQueue.push({player:this.player,options:this.options,callback:this.callback})):this.instancePlayer=new s.default({selector:this.player,options:this.options,callback:this.callback})}},{key:"loadYoutubeAPI",value:function(){var e=this,t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://youtube.com/iframe_api",window.onYouTubeIframeAPIReady=function(){a.apiReady=!0,a.apiReadyQueue.forEach(function(t){e.instancePlayer=new PlayerYoutube({selector:t.player,options:t.options,callback:t.callback})}),a.apiReadyQueue=[]},document.getElementsByTagName("body")[0].appendChild(t)}},{key:"destroy",value:function(){this.instancePlayer.destroy()}}]),e}();t.default=u,e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var l=r.get;if(void 0!==l)return l.call(i)},a=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(e){function t(e){var n=e.selector,o=e.options,l=e.callback;i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{selector:n,options:o,callback:l}));return s.waitUntilVideoIsReady().then(s.onPlayerReady.bind(s)),s.skinDisabled||s.bindSpecificEvents(),s}return o(t,e),l(t,[{key:"onPlayerReady",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"playerIsReady",this).call(this),this.updateDuration()}},{key:"waitUntilVideoIsReady",value:function(){var e=this;return new Promise(function(t,n){"number"==typeof e.player.duration&&!1===isNaN(e.player.duration)?t():(e.onDurationChange=function(){e.player.removeEventListener("durationchange",e.onDurationChange),e.player.removeEventListener("error",e.onError),t()},e.onError=function(t){e.player.removeEventListener("error",e.onError),e.player.removeEventListener("durationchange",e.onDurationChange),n(t)},e.player.addEventListener("durationchange",e.onDurationChange,!1),e.player.addEventListener("error",e.onError,!1))})}},{key:"bindSpecificEvents",value:function(){var e=this;this.options.controls&&(this.options.time&&this.player.addEventListener("durationchange",function(t){return e.updateDuration(t)},!1),this.player.addEventListener("timeupdate",function(t){return e.updateCurrentTime(t)},!1)),this.player.addEventListener("ended",function(t){return e.onVideoEnded(t)},!1),this.onPlayingEvent=function(){e.onPlaying()},this.player.addEventListener("playing",function(t){return e.onPlayingEvent(t)},!1),this.onWaitingEvent=function(){e.onWaiting()},this.player.addEventListener("waiting",function(t){return e.onWaitingEvent(t)},!1),this.onSeekingEvent=function(){e.onSeeking()},this.player.addEventListener("seeking",function(t){return e.onSeekingEvent(t)},!1),this.onSeekedEvent=function(){e.onSeeked()},this.player.addEventListener("seeked",function(t){return e.onSeekedEvent(t)},!1)}},{key:"getInstance",value:function(){return this.player}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"setCurrentTime",value:function(e){this.player.currentTime=e}},{key:"getDuration",value:function(){return this.player.duration}},{key:"onProgressChanged",value:function(e){this.setCurrentTime(e.target.value*this.getDuration()/100)}},{key:"methodPlay",value:function(){this.player.play()}},{key:"methodPause",value:function(){this.player.pause()}},{key:"methodMute",value:function(){this.player.muted=!0}},{key:"methodUnMute",value:function(){this.player.muted=!1}},{key:"onWaiting",value:function(){this.loading(!0)}},{key:"onPlaying",value:function(){this.loading(!1)}},{key:"onSeeking",value:function(){this.loading(!0)}},{key:"onSeeked",value:function(){this.loading(!1)}},{key:"unBindSpecificEvents",value:function(){this.options.time&&this.player.removeEventListener("durationchange",this.updateDuration),this.player.removeEventListener("timeupdate",this.updateCurrentTime),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("seeking",this.onSeeking),this.player.removeEventListener("seeked",this.onSeeked),this.player.removeEventListener("ended",this.onVideoEnded)}}]),t}(u.default);t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=t.selector,r=t.options,o=t.callback;i(this,e),this.callback=o,this.isFullScreen=!1,this.isPaused=null,this.player=n,this.touchSupport=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),this.skinDisabled=!1;var l={},s={autoplay:!1,controls:!0,playPause:!0,timeline:!0,time:!0,volume:!0,fullscreen:!0,poster:null,bigPlay:!0,autoHide:!1,nativeControlsForTouch:!1,playsinline:!0};l=this.player.hasAttribute("data-options")?JSON.parse(this.player.getAttribute("data-options")):r,this.options=this.constructor.extend(!0,s,l),this.options.nativeControlsForTouch&&(this.skinDisabled=!0,this.player.setAttribute("controls","controls"),this.options.controls=!1),this.options.playsinline&&(this.player.setAttribute("playsinline",!0),this.player.setAttribute("webkit-playsinline",!0)),this.supportFullScreen=this.constructor.checkSupportFullScreen(),this.buildPlayer(),this.bindEvents()}return r(e,[{key:"buildPlayer",value:function(){var e=document.createElement("div");e.setAttribute("class","vl-wrapper-vlite vl-first-start vl-paused vl-loading"),e.setAttribute("tabindex",0),this.player.parentNode.insertBefore(e,this.player),e.appendChild(this.player),this.wrapperPlayer=this.player.parentNode,this.player.classList.add("vl-toggle-play-pause-js"),this.skinDisabled&&this.wrapperPlayer.classList.add("vl-force-controls");var t=null!==this.options.poster?"background-image: url("+this.options.poster+");":"",n=(this.options.nativeControlsForTouch?"":'<div class="vl-overlay-video vl-toggle-play-pause-js">\n                                    '+(this.touchSupport?"":'<div class="vl-overlay-left vl-fast-forward-js" data-direction="left"></div>\n                                        <div class="vl-overlay-right vl-fast-forward-js" data-direction="right"></div>')+"\n                                </div>")+'\n                            <div class="vl-wrapper-loader">\n                                <div class="vl-loader">\n                                    <div class="vl-loader-bounce-1"></div>\n                                    <div class="vl-loader-bounce-2"></div>\n                                    <div class="vl-loader-bounce-3"></div>\n                                </div>\n                            </div>\n                            <div class="vl-poster vl-toggle-play-pause-js vl-active" style="'+t+'"></div>\n                            '+(this.options.bigPlay?'<div class="vl-big-play-button vl-toggle-play-pause-js">\n                                     <span class="vl-player-icon vl-icon-play2"></span>\n                                </div>':"")+"\n                            "+(this.options.controls?'<div class="vl-control-bar">\n                                    '+(this.options.timeline?'<div class="vl-progress-bar">\n                                            <div class="vl-progress-seek"></div>\n                                            <input type="range" class="vl-progress-input" min="0" max="100" step="0.01" value="0" orient="horizontal" />\n                                        </div>':"")+'\n                                    <div class="vl-control-bar-inner">\n                                        '+(this.options.playPause?'<div class="vl-play-pause-button vl-toggle-play-pause-js">\n                                                <span class="vl-player-icon vl-icon-play3"></span>\n                                                <span class="vl-player-icon vl-icon-pause2"></span>\n                                            </div>':"")+"\n                                        "+(this.options.time?'<div class="vl-time">\n                                                <span class="vl-current-time">00:00</span>&nbsp;/&nbsp;<span class="vl-duration"></span>\n                                            </div>':"")+"\n                                        "+(this.options.volume?'<div class="vl-volume">\n                                                <span class="vl-player-icon vl-icon-volume-high"></span>\n                                                <span class="vl-player-icon vl-icon-volume-mute"></span>\n                                            </div>':"")+"\n                                        "+(this.options.fullscreen?'<div class="vl-fullscreen">\n                                                <span class="vl-player-icon vl-icon-fullscreen"></span>\n                                                <span class="vl-player-icon vl-icon-shrink"></span>\n                                            </div>':"")+"\n                                    </div>\n                                </div>":"");e.insertAdjacentHTML("beforeend",n)}},{key:"bindEvents",value:function(){var e=this;this.options.controls&&this.options.timeline&&(this.onChangeProgressBar=function(t){e.onProgressChanged(t)},this.wrapperPlayer.querySelector(".vl-progress-input").addEventListener("change",this.onChangeProgressBar,!1)),this.onClickTogglePlayPause=function(t){t.preventDefault(),e.togglePlayPause()},[].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-toggle-play-pause-js"),function(t){t.addEventListener("click",e.onClickTogglePlayPause,!1)}),this.touchSupport||(this.onDblclickFastForward=function(t){t.preventDefault(),e.fastForward(t)},[].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-fast-forward-js"),function(t){t.addEventListener("dblclick",e.onDblclickFastForward,!1)})),this.options.controls&&this.options.volume&&(this.onCLickToggleVolume=function(t){t.preventDefault(),e.toggleVolume()},this.wrapperPlayer.querySelector(".vl-volume").addEventListener("click",this.onCLickToggleVolume,!1)),this.options.controls&&this.options.fullscreen&&(this.onClickToggleFullscreen=function(t){t.preventDefault(),e.toggleFullscreen()},this.wrapperPlayer.querySelector(".vl-fullscreen").addEventListener("click",this.onClickToggleFullscreen,!1),this.onDblclickVideo=function(t){t.preventDefault(),t.target.classList.contains("vl-fast-forward-js")||e.toggleFullscreen()},this.wrapperPlayer.querySelector(".vl-overlay-video").addEventListener("dblclick",this.onDblclickVideo,!1)),this.options.controls&&(this.onKeyupEvent=function(t){e.onKeyup(t)},this.wrapperPlayer.addEventListener("keyup",this.onKeyupEvent,!1),this.onMousemoveEvent=function(t){e.onMousemove(t)},this.wrapperPlayer.addEventListener("mousemove",this.onMousemoveEvent,!1)),this.onChangeFullScreen=function(t){!document[e.supportFullScreen.isFullScreen]&&e.isFullScreen&&e.exitFullscreen(t.target)},window.addEventListener(this.supportFullScreen.changeEvent,this.onChangeFullScreen,!1)}},{key:"playerIsReady",value:function(){this.loading(!1),"function"==typeof this.callback&&this.callback(this),this.options.autoplay&&this.togglePlayPause()}},{key:"loading",value:function(e){e?this.wrapperPlayer.classList.add("vl-loading"):this.wrapperPlayer.classList.remove("vl-loading")}},{key:"updateDuration",value:function(){this.wrapperPlayer.querySelector(".vl-duration").innerHTML=this.constructor.formatVideoTime(this.getDuration())}},{key:"onVideoEnded",value:function(){this.wrapperPlayer.classList.replace("vl-playing","vl-paused"),this.wrapperPlayer.classList.add("vl-first-start"),this.wrapperPlayer.querySelector(".vl-poster").classList.add("vl-active"),this.options.constrols&&(this.wrapperPlayer.querySelector(".vl-progress-seek").style.width="0%",this.wrapperPlayer.querySelector(".vl-progress-input").setAttribute("value",0),this.wrapperPlayer.querySelector(".vl-current-time").innerHTML="00:00")}},{key:"togglePlayPause",value:function(){this.wrapperPlayer.classList.contains("vl-paused")?this.play():this.pause()}},{key:"fastForward",value:function(e){"left"===e.target.getAttribute("data-direction")?this.seekTo(this.getCurrentTime()-10):this.seekTo(this.getCurrentTime()+10)}},{key:"play",value:function(){this.wrapperPlayer.classList.contains("vl-first-start")&&(this.wrapperPlayer.classList.remove("vl-first-start"),this.wrapperPlayer.querySelector(".vl-poster").classList.remove("vl-active")),this.methodPlay(),this.isPaused=!1,this.afterPlayPause()}},{key:"pause",value:function(){this.methodPause(),this.isPaused=!0,this.afterPlayPause()}},{key:"afterPlayPause",value:function(){var e=this;this.isPaused?this.wrapperPlayer.classList.replace("vl-playing","vl-paused"):this.wrapperPlayer.classList.replace("vl-paused","vl-playing"),this.options.autoHide&&this.options.controls&&(this.isPaused?this.wrapperPlayer.querySelector(".vl-control-bar").classList.remove("hidden"):this.timerAutoHide=setTimeout(function(){e.wrapperPlayer.querySelector(".vl-control-bar").classList.add("hidden")},3e3))}},{key:"toggleVolume",value:function(){this.wrapperPlayer.querySelector(".vl-volume").classList.contains("vl-muted")?this.unMute():this.mute()}},{key:"mute",value:function(){this.methodMute(),this.wrapperPlayer.querySelector(".vl-volume").classList.add("vl-muted")}},{key:"unMute",value:function(){this.methodUnMute(),this.wrapperPlayer.querySelector(".vl-volume").classList.remove("vl-muted")}},{key:"seekTo",value:function(e){this.setCurrentTime(e)}},{key:"toggleFullscreen",value:function(){this.isFullScreen?this.exitFullscreen():this.requestFullscreen()}},{key:"requestFullscreen",value:function(){var e=this.supportFullScreen.requestFn;this.player[e]&&(this.player.parentNode[e](),this.isFullScreen=!0,this.wrapperPlayer.classList.add("vl-fullscreen-display"),this.wrapperPlayer.querySelector(".vl-fullscreen").classList.add("vl-exit"))}},{key:"exitFullscreen",value:function(){var e=this.supportFullScreen.cancelFn;document[e]&&(document[e](),this.wrapperPlayer.classList.remove("vl-fullscreen-display"),this.wrapperPlayer.querySelector(".vl-fullscreen").classList.remove("vl-exit"),this.isFullScreen=!1)}},{key:"onKeyup",value:function(e){32===e.keyCode&&this.togglePlayPause()}},{key:"onMousemove",value:function(e){var t=this;!1===this.isPaused&&this.options.autoHide&&this.options.controls&&(this.wrapperPlayer.querySelector(".vl-control-bar").classList.remove("hidden"),clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout(function(){t.wrapperPlayer.querySelector(".vl-control-bar").classList.add("hidden")},3e3))}},{key:"updateCurrentTime",value:function(){var e=Math.round(this.getCurrentTime()),t=this.getDuration(),n=100*e/t,i=this.wrapperPlayer.querySelector(".vl-current-time");this.wrapperPlayer.querySelector(".vl-progress-seek").style.width=n+"%",null!==i&&(i.innerHTML=this.constructor.formatVideoTime(e))}},{key:"unBindEvents",value:function(){var e=this;[].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-toggle-play-pause-js"),function(t){t.removeEventListener("click",e.onClickTogglePlayPause)}),this.onClickTogglePlayPause=null,this.touchSupport||([].forEach.call(this.wrapperPlayer.querySelectorAll(".vl-fast-forward-js"),function(t){t.removeEventListener("dblclick",e.onDblclickFastForward)}),this.onDblclickFastForward=null),this.options.controls&&this.options.timeline&&(this.wrapperPlayer.querySelector(".vl-progress-input").removeEventListener("change",this.onChangeProgressBar,!1),this.onChangeProgressBar=null),this.options.controls&&this.options.volume&&(this.wrapperPlayer.querySelector(".vl-volume").removeEventListener("click",this.onCLickToggleVolume),this.onCLickToggleVolume=null),this.options.controls&&(this.wrapperPlayer.removeEventListener("keyup",this.onKeyupEvent),this.wrapperPlayer.removeEventListener("mousemove",this.onMousemoveEvent),this.onKeyupEvent=null,this.onMousemoveEvent=null),this.options.controls&&this.options.fullscreen&&(this.wrapperPlayer.querySelector(".vl-fullscreen").removeEventListener("click",this.onClickToggleFullscreen),this.wrapperPlayer.querySelector(".vl-overlay-video").removeEventListener("dblclick",this.onDblclickVideo),this.onClickToggleFullscreen=null,this.onDblclickVideo=null),window.removeEventListener(this.supportFullScreen.changeEvent,this.onChangeFullScreen)}},{key:"destroy",value:function(){this.pause(),this.unBindEvents(),"function"==typeof this.unBindSpecificEvents&&this.unBindSpecificEvents(),"function"==typeof this.removeInstance&&this.removeInstance(),this.wrapperPlayer.remove()}}],[{key:"checkSupportFullScreen",value:function(){var e=["","moz","webkit","ms","o"],t=e.length,n=void 0,i=void 0,r=void 0,o=void 0,l=void 0;if(void 0!==document.cancelFullscreen)i="requestFullscreen",r="exitFullscreen",o="fullscreenchange";else for(;t--;)"moz"===e[t]&&!document.mozFullScreenEnabled||void 0===document[e[t]+"CancelFullScreen"]||(i=e[t]+"RequestFullScreen",r=e[t]+"CancelFullScreen",o=e[t]+"fullscreenchange",l="webkit"===e[t]?e[t]+"IsFullScreen":e[t]+"FullScreen");return n={requestFn:i,cancelFn:r,changeEvent:o,isFullScreen:l},!!i&&n}},{key:"formatVideoTime",value:function(e){var t=1e3*e,n=t/1e3/60<<0,i=t/1e3%60<<0,r="";return r+=n<10?"0":"",r+=n+":",r+=i<10?"0":"",r+=i}},{key:"extend",value:function(){var e=this,t={},n=!1,i=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],i++);for(;i<r;i++){var o=arguments[i];!function(i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n&&"[object Object]"===Object.prototype.toString.call(i[r])?t[r]=e.constructor.extend(!0,t[r],i[r]):t[r]=i[r])}(o)}return t}}]),e}();t.default=o}])});